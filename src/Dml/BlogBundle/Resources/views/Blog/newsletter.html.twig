{% extends 'DmlBlogBundle::layout.html.twig' %}

{% block title %}{{ parent() }} - Historique des news letters{% endblock %}

{% block meta %}
<meta name="description" content="Toutes les news letters qui regroupent les différentes BD et livres jeunesses disponible dans votre librairie !" />
{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-md-offset-3 col-md-6">
            <p class="bg-success text-center">
                S'inscrire à la newsletter ?
                <a href="https://ssl.canalbd.net/dans-ma-librairie_lettreabo" title="newsletter">Cliquer ici</a>
            </p>
        </div>
    </div>
    <section id="news_letter">
		{# S'il y a plus d'une page, on affiche la liste des pages #}
		{% if nb_page > 1 %}
			<ul>
				<li><a href="{{ path('dmlblog_newsletter', {'page': 1}) }}">&laquo;</a></li>
				{# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}
				{% for p in range(1, nb_page) %}
					<li{% if p == page %} class="active"{% endif %}>
						<a href="{{ path('dmlblog_newsletter', {'page': p}) }}">{{ p }}</a>
					</li>
				{% endfor %}
				<li><a href="{{ path('dmlblog_newsletter', {'page': nb_page}) }}">&raquo;</a></li>
			</ul>
		{% endif %}

		<article>

			{% for newsletter in newsletters %}
				<h1>NEWSLETTER DU {{ newsletter.datePublication|date('d/m/Y') }}</h1>
				{{ newsletter.codeHtml|raw }}
			{% endfor %}

		</article>


		{# S'il y a plus d'une page, on affiche la liste des pages #}
		{% if nb_page > 1 %}
			<ul>
				<li><a href="{{ path('dmlblog_newsletter', {'page': 1}) }}">&laquo;</a></li>
				{# On utilise la fonction range(a, b) qui crée un tableau de valeurs entre a et b #}
				{% for p in range(1, nb_page) %}
					<li{% if p == page %} class="active"{% endif %}>
						<a href="{{ path('dmlblog_newsletter', {'page': p}) }}">{{ p }}</a>
					</li>
				{% endfor %}
				<li><a href="{{ path('dmlblog_newsletter', {'page': nb_page}) }}">&raquo;</a></li>
			</ul>
		{% endif %}

	</section>

{% endblock %}
